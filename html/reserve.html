<div class="container event-container">
    <div class="row">
        <h1 class="text-center display-1 mt-5 h1-design">{{currentLang.reserve.pair}}</h1>
    </div>
    <div class="row d-flex justify-content-center mt-5">

        <!--P치rgener치l치s gomb-->
        <div class="row justify-content-center">
          <button class="btn btn-primary btn-lg shadow-sm mx-2 w-25 mb-2"
                  ng-click="makePairs()"
                  ng-show="$root.user.id">
              {{currentLang.reserve.make_pairs}}
          </button>
        </div>

        <div class="row justify-content-center">
          <button class="btn btn-outline-secondary btn-lg shadow-sm w-25 invisible"
                  ng-show="$root.user.type == 'ADMIN'">
              {{currentLang.reserve.manual_pair}}
          </button>
        </div>

        <p class="text-center mt-3 text-muted fs-5"
           ng-if="pairsNamed.length > 0">
            {{currentLang.reserve.all}}
            <span class="badge bg-info text-dark fs-6">{{pairsNamed.length}}</span>
            {{currentLang.reserve.pair}}
            {{currentLang.reserve.generated}}.
        </p>

        <div class="table-responsive mt-3">
            <table class="table table-hover table-bordered table-striped text-center align-middle">
                <thead class="table-dark">
                    <tr>
                        <th colspan="4">{{currentLang.reserve.pairs}}</th>
                    </tr>
                    <tr>
                        <th colspan="2">{{currentLang.reserve.first}}</th>
                        <th colspan="2">{{currentLang.reserve.second}}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="x in pairsNamed">
                        <td class="pair-img-cell">
                            <img ng-src="assets/pics/{{x.image2}}" class="pair-img rounded-circle border border-2">
                        </td>
                        <td class="pair-cell" ng-class="x.gender2 == 'M' ? 'boy-cell' : 'girl-cell'">
                            {{x.name2}}
                        </td>
                        <td class="pair-cell" ng-class="x.gender1 == 'M' ? 'boy-cell' : 'girl-cell'">
                            {{x.name1}}
                        </td>
                        <td class="pair-img-cell">
                            <img ng-src="assets/pics/{{x.image1}}" class="pair-img rounded-circle border border-2">
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="table-responsive mt-3">
            <table class="table table-hover table-bordered text-center align-middle">
                <thead class="table-dark">
                    <tr>
                        <th colspan="4">{{currentLang.reserve.no_pairs}}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="x in notPaired">
                        <td class="pair-img-cell">
                            <img ng-src="assets/pics/{{x.class}}/{{x.folderName}}/{{x.imageName}}.{{x.fileExtension}}" class="pair-img rounded-circle border border-2">
                        </td>
                        <td class="pair-cell" ng-class="x.gender == 'M' ? 'boy-cell' : 'girl-cell'">
                            {{x.name}}
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="pairInfoModal" tabindex="-1" aria-labelledby="pairInfoModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header bg-gradient">
                <h5 class="modal-title" id="pairInfoModalLabel">{{modalTitle}}</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Bez치r치s"></button>
              </div>
              <div class="modal-body">
                <div ng-if="selectedPair">
                  <div class="row">
                    <div class="col-md-4 text-center">
                      <img ng-src="assets/pics/{{selectedPair.image1}}" class="pair-img rounded-circle border border-2 mb-2" style="width:120px;">
                      <div class="fw-bold">{{selectedPair.name1}}</div>
                    </div>
                    <div class="col-md-4 text-center align-self-center">
                      <span class="display-6">游뱋</span>
                    </div>
                    <div class="col-md-4 text-center">
                      <img ng-src="assets/pics/{{selectedPair.image2}}" class="pair-img rounded-circle border border-2 mb-2" style="width:120px;">
                      <div class="fw-bold">{{selectedPair.name2}}</div>
                    </div>
                  </div>
                  <hr>
                  <div class="mt-2">
                    <p><strong>Oszt치ly:</strong> {{selectedPair.class}}</p>
                    <p><strong>Bemutatkoz치s:</strong> {{selectedPair.description}}</p>
                    <!-- Tov치bbi inf칩k -->
                  </div>
                </div>
                <div ng-if="!selectedPair">
                  <p class="text-muted">Nincs kiv치lasztva p치r.</p>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Bez치r치s</button>
              </div>
            </div>
          </div>
        </div>
    </div>
</div>